(function(n,w,C,u){function q(b,a){var d=[],c=/^[+-]?\d+(\.\d+)?$/,e={lat:"",lng:""};if("string"===typeof b||Array.isArray(b))if(d="string"===typeof b?b.replace(/\s+/,"").split(","):b,2===d.length)c.test(d[0])&&c.test(d[1])&&(e.lat=d[0],e.lng=d[1]);else return b;else if("object"===typeof b){if("function"===typeof b.lat||"function"===typeof b.lng)return b;b.hasOwnProperty("x")&&b.hasOwnProperty("y")?(e.lat=b.x,e.lng=b.y):b.hasOwnProperty("lat")&&b.hasOwnProperty("lng")&&(e.lat=b.lat,e.lng=b.lng)}return!0===
a?new google.maps.LatLng(e.lat,e.lng):e}function r(b){var a=b.hasOwnProperty("css")?b.css.toString():"";this.setValues(b);this.span=n("<span/>").css({position:"relative",left:"-50%",top:"0","white-space":"nowrap"}).addClass(a);this.div=n("<div/>").css({position:"absolute",display:"none"});this.span.appendTo(this.div)}function x(b,a){var d=n.extend({},B,a),c={},e="";if(w.hasOwnProperty("google")){this.map=null;this._markers=[];this._labels=[];this._polylines=[];this._polygons=[];this._circles=[];this._kmls=
[];this._directions=[];this._directionsMarkers=[];this.container=b;this.options=d;this.googleMapOptions={};this.interval=parseInt(this.options.interval,10)||200;for(e in this.options)this.options.hasOwnProperty(e)&&(c=this.options[e],/ControlOptions/g.test(e)&&c.hasOwnProperty("position")&&"string"===typeof c.position&&(this.options[e].position=google.maps.ControlPosition[c.position.toUpperCase()]));this.googleMapOptions=this.options;d.hasOwnProperty("streetView")&&(this.googleMapOptions.streetViewObj=
d.streetView,delete this.googleMapOptions.streetView);this.googleMapOptions.center=q(d.center,!0);d.hasOwnProperty("styles")&&("string"===typeof d.styles&&y.hasOwnProperty(d.styles)?this.googleMapOptions.styles=y[d.styles]:Array.isArray(d.styles)&&(this.googleMapOptions.styles=d.styles));n(this.container).html(d.loading);this.init()}else console.error("Google Maps API was not loaded.")}var B={autoLocation:!1,center:[24,121],event:null,infoWindowAutoClose:!0,interval:200,kml:[],loading:"\u8b80\u53d6\u4e2d&hellip;",
marker:[],markerCluster:!1,markerFitBounds:!1,notfound:"\u627e\u4e0d\u5230\u67e5\u8a62\u7684\u5730\u9ede",polyline:[],zoom:8},z=0,A=0,y={},y={greyscale:[{featureType:"all",stylers:[{saturation:-100},{gamma:.5}]}]};r.prototype=new google.maps.OverlayView;r.prototype.onAdd=function(){this.div.appendTo(n(this.getPanes().overlayLayer));this.listeners=[google.maps.event.addListener(this,"visible_changed",this.onRemove)]};r.prototype.draw=function(){var b=this.getProjection(),a={};try{a=b.fromLatLngToDivPixel(this.get("position")),
this.div.css({left:a.x+"px",top:a.y+"px",display:"block"}),this.text&&this.span.html(this.text.toString())}catch(d){}};r.prototype.onRemove=function(){n(this.div).remove()};x.prototype={VERSION:"3.1.7",_clusters:[],bounds:new google.maps.LatLngBounds,kml:function(b,a){var d={},c={url:"",map:b,preserveViewport:!1,suppressInfoWindows:!1},e=0;if(a.hasOwnProperty("kml"))if("string"===typeof a.kml)c.url=a.kml,d=new google.maps.KmlLayer(c),this._kmls.push(d);else if(Array.isArray(a.kml))for(e=0;e<a.kml.length;e+=
1)"string"===typeof a.kml[e]&&(c.url=a.kml[e],d=new google.maps.KmlLayer(c),this._kmls.push(d))},direction:function(b,a){if(a.hasOwnProperty("direction")&&Array.isArray(a.direction))for(var d=0;d<a.direction.length;d+=1)this.directionService(a.direction[d])},markers:function(b,a,d){var c={},e=0,f=0,g=0,h=0,h="",l=[],c=[],m=new google.maps.Geocoder;A=z=0;l=this._markers;if(!d||0===l.length&&Array.isArray(a.marker)){f=0;for(e=a.marker.length;f<e;f+=1)c=a.marker[f],c.hasOwnProperty("addr")&&(c.parseAddr=
q(c.addr,!0),"string"===typeof c.parseAddr?this.markerByGeocoder(b,c,a):this.markerDirect(b,c,a));d=u}if("modify"===d)for(c=this._labels,f=0,e=a.marker.length;f<e;f+=1){if(a.marker[f].hasOwnProperty("id"))for(g=0;g<l.length;g+=1)if(a.marker[f].id===l[g].id&&a.marker[f].hasOwnProperty("addr"))h=q(a.marker[f].addr,!0),"string"===typeof h?m.geocode({address:h},function(b,a){if(a===google.maps.GeocoderStatus.OK)l[g].setPosition(b[0].geometry.location);else throw"Geocoder Status: "+a;}):l[g].setPosition(h),
a.marker[f].hasOwnProperty("text")&&(l[g].hasOwnProperty("infoWindow")?"function"===typeof l[g].infoWindow.setContent&&l[g].infoWindow.setContent(a.marker[f].text):(l[g].infoWindow=new google.maps.InfoWindow({content:a.marker[f].text}),this.bindEvents(l[g],a.marker[f].event))),a.marker[f].hasOwnProperty("icon")&&l[g].setIcon(a.marker[f].icon);else{if(a.marker[f].hasOwnProperty("forceInsert")&&!0===a.marker[f].forceInsert&&a.marker[f].hasOwnProperty("addr")){a.marker[f].parseAddr=q(a.marker[f].addr,
!0);"string"===typeof a.marker[f].parseAddr?this.markerByGeocoder(b,a.marker[f],a):this.markerDirect(b,a.marker[f]);break}}else a.marker[f].hasOwnProperty("addr")&&(a.marker[f].parseAddr=q(a.marker[f].addr,!0),"string"===typeof a.marker[f].parseAddr?this.markerByGeocoder(b,a.marker[f]):this.markerDirect(b,a.marker[f]));g=0;for(h=c.length;g<h;g+=1)a.marker[f].id===c[g].id&&(a.marker[f].hasOwnProperty("label")&&(c[g].text=a.marker[f].label),a.marker[f].hasOwnProperty("css")&&n(c[g].span).addClass(a.marker[f].css),
c[g].draw())}a.hasOwnProperty("markerCluster")&&!0===a.markerCluster&&"function"===typeof MarkerClusterer&&this._clusters.push(new MarkerClusterer(b,this._markers))},drawPolyline:function(b,a){var d={},c=0,e={},f={},e={},g=0,h=0,e={},l=[],e={},m=[],v=[],p={};if(a.hasOwnProperty("polyline")&&Array.isArray(a.polyline))for(h=a.polyline.length-1;0<=h;--h)if(f=a.polyline[h],f.hasOwnProperty("coords")&&Array.isArray(f.coords)){m=new google.maps.MVCArray;for(c=0;c<f.coords.length;c+=1)e=f.coords[c],e=q(e,
!0),"function"===typeof e.lat&&m.push(e);e=n.extend({},{strokeColor:f.color||"#FF0000",strokeOpacity:f.opacity||1,strokeWeight:f.width||2},f);d=new google.maps.Polyline(e);this._polylines.push(d);if(2<m.getLength())for(c=0;c<m.length;c+=1)0<c&&m.length-1>c&&v.push({location:m.getAt(c),stopover:!1});f.hasOwnProperty("event")&&this.bindEvents(d,f.event);f.hasOwnProperty("snap")&&!0===f.snap?(e=new google.maps.DirectionsService,e.route({origin:m.getAt(0),waypoints:v,destination:m.getAt(m.length-1),travelMode:google.maps.DirectionsTravelMode.DRIVING},
function(b,a){if(a===google.maps.DirectionsStatus.OK){c=0;for(g=b.routes[0].overview_path;c<g.length;c+=1)l.push(g[c]);d.setPath(l);"function"===typeof f.getDistance&&(p=b.routes[0].legs[0].distance,f.getDistance.call(this,p))}})):(d.setPath(m),google.maps.hasOwnProperty("geometry")&&google.maps.geometry.hasOwnProperty("spherical")&&"function"===typeof google.maps.geometry.spherical.computeDistanceBetween&&(p=google.maps.geometry.spherical.computeDistanceBetween(m.getAt(0),m.getAt(m.length-1)),"function"===
typeof f.getDistance&&f.getDistance.call(this,p)));d.setMap(b)}},drawPolygon:function(b,a){var d={},c=0,d=0,e={},e={},f=0,d={},g=[];if(a.hasOwnProperty("polygon")&&Array.isArray(a.polygon))for(f=a.polygon.length;c<f;c+=1)if(g=[],a.polygon[c].hasOwnProperty("coords")){for(d=0;d<a.polygon[c].coords.length;d+=1)e=a.polygon[c].coords[d],e=q(e,!0),"function"===typeof e.lat&&g.push(e);d=n.extend({},{path:g,strokeColor:a.polygon[c].color||"#FF0000",strokeOpacity:1,strokeWeight:a.polygon[c].width||2,fillColor:a.polygon[c].fillcolor||
"#CC0000",fillOpacity:.35},a.polygon[c]);d=new google.maps.Polygon(d);a.polygon[c].hasOwnProperty("event")&&this.bindEvents(d,a.polygon[c].event);this._polygons.push(d);d.setMap(b)}},drawCircle:function(b,a){var d=0,c={},e={},f={},e={};if(a.hasOwnProperty("circle")&&Array.isArray(a.circle))for(d=a.circle.length-1;0<=d;--d)f=a.circle[d],e=n.extend({},{map:b,strokeColor:f.color||"#FF0000",strokeOpacity:f.opacity||.8,strokeWeight:f.width||2,fillColor:f.fillcolor||"#FF0000",fillOpacity:f.fillopacity||
.35,radius:f.radius||10,zIndex:100,id:f.hasOwnProperty("id")?f.id:""},f),f.hasOwnProperty("center")&&(c=q(f.center,!0),e.center=c),"function"===typeof c.lat&&(e=new google.maps.Circle(e),this._circles.push(e),f.hasOwnProperty("event")&&this.bindEvents(e,f.event))},overlay:function(){var b=this.map,a=this.options;try{this.kml(b,a),this.direction(b,a),this.markers(b,a),this.drawPolyline(b,a),this.drawPolygon(b,a),this.drawCircle(b,a),this.streetView(b,a),this.geoLocation(b,a)}catch(d){console.dir(d)}},
markerIcon:function(b){var a=n.extend({},a,b.icon);if(b.hasOwnProperty("icon")){if("string"===typeof b.icon)return b.icon;b.icon.hasOwnProperty("url")&&(a.url=b.icon.url);b.icon.hasOwnProperty("size")&&Array.isArray(b.icon.size)&&2===b.icon.size.length&&(a.size=new google.maps.Size(b.icon.size[0],b.icon.size[1]));b.icon.hasOwnProperty("scaledSize")&&Array.isArray(b.icon.scaledSize)&&2===b.icon.scaledSize.length&&(a.scaledSize=new google.maps.Size(b.icon.scaledSize[0],b.icon.scaledSize[1]));b.icon.hasOwnProperty("anchor")&&
Array.isArray(b.icon.anchor)&&2===b.icon.anchor.length&&(a.anchor=new google.maps.Point(b.icon.anchor[0],b.icon.anchor[1]))}return a},markerDirect:function(b,a){var d={},c={},c=a.hasOwnProperty("id")?a.id:"",d=a.hasOwnProperty("title")?a.title.toString().replace(/<([^>]+)>/g,""):!1,e=a.hasOwnProperty("text")?a.text.toString():!1,f=n.extend({},{map:b,position:a.parseAddr,animation:null,id:c},a),g=this.markerIcon(a);d&&(f.title=d);e&&(f.text=e,f.infoWindow=new google.maps.InfoWindow({content:e}));n.isEmptyObject(g)||
(f.icon=g);a.hasOwnProperty("animation")&&"string"===typeof a.animation&&(f.animation=google.maps.Animation[a.animation.toUpperCase()]);d=new google.maps.Marker(f);this._markers.push(d);d.hasOwnProperty("position")&&("function"===typeof d.getPosition&&this.bounds.extend(d.position),!0===this.options.markerFitBounds&&this._markers.length===this.options.marker.length&&b.fitBounds(this.bounds));!0===this.options.markerCluster&&"function"===typeof MarkerClusterer&&z===this.options.marker.length&&this._clusters.push(new MarkerClusterer(b,
this._markers));a.hasOwnProperty("label")&&(c=new r({text:a.label,map:b,css:a.hasOwnProperty("css")?a.css.toString():"",id:c}),c.bindTo("position",d,"position"),c.bindTo("text",d,"position"),c.bindTo("visible",d),this._labels.push(c));this.bindEvents(d,a.event)},markerByGeocoder:function(b,a,d){var c=this;(new google.maps.Geocoder).geocode({address:a.parseAddr},function(e,f){if(f===google.maps.GeocoderStatus.OVER_QUERY_LIMIT)w.setTimeout(function(){c.markerByGeocoder(b,a)},c.interval);else if(f===
google.maps.GeocoderStatus.OK){var g={},h={},h=a.hasOwnProperty("id")?a.id:"",g=a.hasOwnProperty("title")?a.title.toString().replace(/<([^>]+)>/g,""):!1,l=a.hasOwnProperty("text")?a.text.toString():!1,m={map:b,position:e[0].geometry.location,animation:null,id:h},q=c.markerIcon(a);g&&(m.title=g);l&&(m.text=l,m.infoWindow=new google.maps.InfoWindow({content:l}));n.isEmptyObject(q)||(m.icon=q);a.hasOwnProperty("animation")&&"string"===typeof a.animation&&(m.animation=google.maps.Animation[a.animation.toUpperCase()]);
m=n.extend({},m,a);g=new google.maps.Marker(m);c._markers.push(g);g.hasOwnProperty("position")&&("function"===typeof g.getPosition&&c.bounds.extend(g.position),!0===c.options.markerFitBounds&&c._markers.length===d.marker.length&&b.fitBounds(c.bounds));if(c.options.hasOwnProperty("markerCluster")&&"function"===typeof MarkerClusterer&&A===c.options.marker.length)return new MarkerClusterer(b,c._markers);a.hasOwnProperty("label")&&(h=new r({text:a.label,map:c.map,css:a.hasOwnProperty("css")?a.css.toString():
"",id:h}),h.bindTo("position",g,"position"),h.bindTo("text",g,"position"),h.bindTo("visible",g),c._labels.push(h));c.bindEvents(g,a.event)}})},directionService:function(b){if(b.hasOwnProperty("from")&&b.hasOwnProperty("to")){var a=this,d=new google.maps.DirectionsService,c=new google.maps.DirectionsRenderer,e={travelMode:google.maps.DirectionsTravelMode.DRIVING,optimizeWaypoints:b.hasOwnProperty("optimize")?b.optimize:!1},f={},g={},h=[],l={},m=[],v={},p="",k=0,t=0;e.origin=q(b.from,!0);e.destination=
q(b.to,!0);b.hasOwnProperty("travel")&&google.maps.TravelMode[b.travel.toString().toUpperCase()]&&(e.travelMode=google.maps.TravelMode[b.travel.toString().toUpperCase()]);b.hasOwnProperty("panel")&&(f=n(b.panel));if(b.hasOwnProperty("waypoint")&&Array.isArray(b.waypoint)){k=0;for(t=b.waypoint.length;k<t;k+=1)l={},"string"===typeof b.waypoint[k]||Array.isArray(b.waypoint[k])?l={location:q(b.waypoint[k],!0),stopover:!0}:(b.waypoint[k].hasOwnProperty("location")&&(l.location=q(b.waypoint[k].location,
!0)),l.stopover=b.waypoint[k].hasOwnProperty("stopover")?b.waypoint[k].stopover:!0),m.push(b.waypoint[k].text||b.waypoint[k].toString()),h.push(l);e.waypoints=h}d.route(e,function(d,f){var e=0,h={},k=0;if(f===google.maps.DirectionsStatus.OK){e=d.routes[0].legs;b.hasOwnProperty("autoViewport")&&(g.preserveViewport=!1===b.autoViewport?!0:!1);try{for(b.hasOwnProperty("color")&&"string"===typeof b.color&&(g.polylineOptions={strokeColor:b.color}),b.hasOwnProperty("fromText")&&(e[0].start_address=b.fromText),
b.hasOwnProperty("toText")&&(1===e.length?e[0].end_address=b.toText:e[e.length-1].end_address=b.toText),1===e.length?(v=e[0].end_location,p=e[0].end_address):(v=e[e.length-1].end_location,p=e[e.length-1].end_address),b.hasOwnProperty("icon")&&(g.suppressMarkers=!0,b.icon.hasOwnProperty("from")&&"string"===typeof b.icon.from&&a.directionServiceMarker(e[0].start_location,{icon:b.icon.from,text:e[0].start_address}),b.icon.hasOwnProperty("to")&&"string"===typeof b.icon.to&&a.directionServiceMarker(v,
{icon:b.icon.to,text:p})),k=0;k<e.length;k+=1)b.hasOwnProperty("icon")&&(h.icon=b.icon.waypoint),h.text=m[k-1],a.directionServiceMarker(e[k].start_location,h)}catch(l){}a.bindEvents(c,b.event);c.setOptions(g);c.setDirections(d)}});c.setMap(a.map);f.length&&c.setPanel(f.get(0));a._directions.push(c)}},directionServiceMarker:function(b,a){var d=n.extend({},{position:b,map:this.map},a),c={};d.hasOwnProperty("text")&&(d.infoWindow=new google.maps.InfoWindow({content:d.text}));c=new google.maps.Marker(d);
this._directionsMarkers.push(c);this.bindEvents(c)},bindEvents:function(b,a){var d=this,c={};switch(typeof a){case "function":google.maps.event.addListener(b,"click",a);break;case "object":for(c in a)"function"===typeof a[c]?google.maps.event.addListener(b,c,a[c]):a[c].hasOwnProperty("func")&&"function"===typeof a[c].func?a[c].hasOwnProperty("once")&&!0===a[c].once?google.maps.event.addListenerOnce(b,c,a[c].func):google.maps.event.addListener(b,c,a[c].func):"function"===typeof a[c]&&google.maps.event.addListener(b,
c,a[c])}b.hasOwnProperty("infoWindow")&&google.maps.event.addListener(b,"click",function(){var a=0,c={};if(d.options.hasOwnProperty("infoWindowAutoClose")&&!0===d.options.infoWindowAutoClose)for(a=0;a<d._markers.length;a+=1)c=d._markers[a],c.hasOwnProperty("infoWindow")&&"function"===typeof c.infoWindow.close&&c.infoWindow.close();b.infoWindow.open(d.map,b)})},markerFitBounds:function(b,a){a.hasOwnProperty("markerFitBounds")&&!0===a.markerFitBounds&&b.fitBounds(this.bounds)},streetView:function(b,
a){var d={},c=a.hasOwnProperty("streetViewObj")?a.streetViewObj:{},e={heading:0,pitch:0,zoom:1},f={};"function"===typeof b.getStreetView&&a.hasOwnProperty("streetViewObj")&&(d=b.getStreetView(),c.hasOwnProperty("position")?(f=q(c.position,!0),c.position="object"!==typeof f?b.getCenter():f):c.position=b.getCenter(),c.hasOwnProperty("pov")&&(c.pov=n.extend({},e,c.pov)),c.hasOwnProperty("visible")&&d.setVisible(c.visible),d.setOptions(c),c.hasOwnProperty("event")&&this.bindEvents(d,c.event))},panto:function(b){var a=
{},d={},c=this.map;null!==c&&u!==c&&(a=q(b,!0),"string"===typeof a?(d=new google.maps.Geocoder,d.geocode({address:a},function(a,b){b===google.maps.GeocoderStatus.OK&&"function"===typeof c.panTo&&a.length?c.panTo(a[0].geometry.location):console.error(b)})):"function"===typeof c.panTo&&c.panTo(a))},clear:function(b){var a="marker,circle,polygon,polyline,direction,kml,cluster",d="",c=this._labels,e=c.length,f=0,g=0,h=0,a="string"===typeof b?b.split(","):Array.isArray(b)?b:a.split(",");try{for(f=0;f<
a.length;f+=1){d="_"+n.trim(a[f].toString().toLowerCase())+"s";if(u!==this[d]&&this[d].length){for(g=0;g<this[d].length;g+=1)this.map===this[d][g].getMap()&&("function"===typeof this[d][g].clearMarkers&&this[d][g].clearMarkers(),"function"===typeof this[d][g].set&&(this[d][g].set("visible",!1),this[d][g].set("directions",null)));this[d].length=0}if("direction"===a[f])for(g=0;g<this._directionsMarkers.length;g+=1)this._directionsMarkers[g].setMap(null);for(h=0;h<e;h+=1)c[h].hasOwnProperty("div")&&
c[h].div.remove()}}catch(l){}},modify:function(b){var a=[],d=[["kml","kml"],["marker","markers"],["direction","direction"],["polyline","drawPolyline"],["polygon","drawPolygon"],["circle","drawCircle"],["streetView","streetView"],["markerFitBounds","markerFitBounds"]],c=0,e=this.map;if(u!==b){for(c=0;c<d.length;c+=1)b.hasOwnProperty(d[c][0])&&a.push(d[c][1]);if(null!==e){if(a.length)for(c=0;c<a.length;c+=1)"function"===typeof this[a[c]]&&("streetView"===a[c]&&(b.streetViewObj=b.streetView,delete b.streetView),
this[a[c]](e,b,"modify"));else e.setOptions(b);b.hasOwnProperty("event")&&this.bindEvents(e,b.event)}}},destroy:function(){n.data(n(this.container).get(0),"tinyMap",null)},getKML:function(b){var a=n(this.container).data("tinyMap");b=n.extend({},{marker:!0,polyline:!0,direction:!0,download:!1},b);var d='<?xml version="1.0" encoding="UTF-8"?>;<kml xmlns="http://earth.google.com/kml/2.2">;<Document>;<name><![CDATA[]]\x3e</name>;<description><![CDATA[]]\x3e</description>;<Style id="style1">;<IconStyle>;<Icon>;<href>http://maps.google.com/mapfiles/kml/paddle/grn-circle_maps.png</href>;</Icon>;</IconStyle>;</Style>;#PLACEMARKS#;</Document>;</kml>'.split(";"),
c="<Placemark> <name><![CDATA[]]\x3e</name> <Snippet></Snippet> <description><![CDATA[]]\x3e</description> <styleUrl>#style1</styleUrl> <ExtendedData> </ExtendedData> #DATA# </Placemark>".split(" "),e=[],f=[],f=[],g=[],h=[],l="",m="",q="",p="",p="",k=0,t=e=0,r=0;if(a){if(!0===b.marker)for(e=a._markers,k=0;k<e.length;k+=1)p=e[k].position.lng()+","+e[k].position.lat(),l+=c.join("").replace(/#DATA#/gi,"<Point><coordinates>#LATLNG#,0.000000</coordinates></Point>".replace(/#LATLNG#/gi,p));if(!0===b.polyline)for(f=
a._polylines,k=0;k<f.length;k+=1){obj=f[k].getPath().getArray();p="";for(e=0;e<obj.length;e+=1)p+=obj[e].lng()+","+obj[e].lat()+",0.000000\n";m+=c.join("").replace(/#DATA#/gi,"<LineString><tessellate>1</tessellate><coordinates>#LATLNG#</coordinates></LineString>".replace(/#LATLNG#/gi,p))}if(!0===b.direction)for(f=a._directions,k=0;k<f.length;k+=1)if(Array.isArray(f[k].directions.routes)&&Array.isArray(f[k].directions.routes[0].legs))for(g=f[k].directions.routes[0].legs,e=0;e<g.length;e+=1)if(Array.isArray(g[e].steps))for(t=
0;t<g[e].steps.length;t+=1){p="";if(Array.isArray(g[e].steps[t].path))for(r=0;r<g[e].steps[t].path.length;r+=1)h=g[e].steps[t].path[r],u!==h&&"function"===typeof h.lat&&(p+=h.lng()+","+h.lat()+",0.000000\n");q+=c.join("").replace(/#DATA#/gi,"<LineString><tessellate>1</tessellate><coordinates>#LATLNG#</coordinates></LineString>".replace(/#LATLNG#/gi,p))}p=d.join("").replace(/#PLACEMARKS#/gi,l+m+q);if(!0===b.download)w.open("data:application/vnd.google-earth.kml+xml;charset=utf-8;base64,"+w.btoa(unescape(encodeURIComponent(p))));
else return p}},geoLocation:function(b,a){var d=navigator.geolocation;d&&!0===a.autoLocation&&d.getCurrentPosition(function(a){a&&a.hasOwnProperty("coords")&&b.panTo(new google.maps.LatLng(a.coords.latitude,a.coords.longitude))},function(a){console.error(a)},{maximumAge:6E5,timeout:3E3,enableHighAccuracy:!1})},init:function(){var b=this,a={};"string"===typeof b.options.center?(a=new google.maps.Geocoder,a.geocode({address:b.options.center},function(a,c){try{c===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?
b.init():c===google.maps.GeocoderStatus.OK&&0!==a.length?u!==a[0]&&a[0].hasOwnProperty("geometry")&&(b.googleMapOptions.center=a[0].geometry.location,b.map=new google.maps.Map(b.container,b.googleMapOptions),google.maps.event.addListenerOnce(b.map,"idle",function(){b.overlay()}),b.bindEvents(b.map,b.options.event)):console.error("Geocoder Error Code: "+c)}catch(e){console.error(e)}})):(b.map=new google.maps.Map(b.container,b.googleMapOptions),google.maps.event.addListenerOnce(b.map,"idle",function(){b.overlay()}),
b.bindEvents(b.map,b.options.event))}};n.fn.tinyMap=function(b){var a=arguments,d=[],c={};return"string"===typeof b?(this.each(function(){c=n.data(this,"tinyMap");c instanceof x&&"function"===typeof c[b]&&(d=c[b].apply(c,Array.prototype.slice.call(a,1)))}),u!==d?d:this):this.each(function(){n.data(this,"tinyMap")||n.data(this,"tinyMap",new x(this,b))})}})(jQuery,window,document);
